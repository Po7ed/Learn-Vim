# 第 0 章 请先阅读

## 编写本指南的原因

有许多学习使用 Vim 的地方：`vimtutor` 是个初学的好地方，而 `:help` 手册则有你需要的所有参考资料。

然而，普通用户需要的东西比 `vimtutor` 多，比 `:help` 手册少。本指尝试消除这一缺口，只强调关键功能，让用户花最少的时间学习 Vim 最有用的部分。

机会是你很可能不需要 Vim 所有 100% 的功能。你可能只需要了解其中的 20%，就能成为一名强大的 Vimer。本指南将告诉你哪些 Vim 功能对你最有用。

这是一本观点鲜明的指南。它涵盖了我在使用 Vim 时经常用到的技巧。各章的顺序是根据我认为对初学者学习 Vim 最合理的顺序排列的。

本指南重视实例。在学习一项新技能时，示例是必要的，大量的示例能更有效地巩固这些概念。

有些人可能会问，为什么要学习 Vimscript？在我使用 Vim 的第一年，我只满足于知道如何使用 Vim。随着时间的推移，我开始越来越需要 Vimscript 来编写自定义命令，以满足我特定的编辑需求。在掌握 Vim 的过程中，你迟早会需要学习 Vimscript。为什么不早点呢？Vimscript 是一种小型语言。你只需在本指南的四个章节中学习其基础知识。

不懂 Vimscript 也能在使用 Vim 的道路上走得很远，但了解 Vimscript 会让你走得更远。

本指南是为初学者和高级 Vimmers 编写的。它以广泛而简单的概念开始，以具体而高级的概念结束。如果你已经是高级用户，我鼓励你从头到尾读完这本指南，因为你会学到新东西！

## 如何从使用其他文本编辑器过渡到 Vim

学习 Vim 是一种过瘾的体验，尽管很辛苦。学习 Vim 主要有两种方法：

1. 冷火鸡法
2. 循序渐进

冷火鸡法是指停止使用之前使用的任何编辑器 / IDE，从现在开始只使用 Vim。这种方法的缺点是，在最初的一两周内，你的工作效率会严重下降。如果你是一名全职程序员，这种方法可能并不可行。因此，对于大多数人来说，我认为过渡到 Vim 的最佳方法是循序渐进地使用它。

要逐步使用 Vim，在头两周，每天花一小时使用 Vim 作为编辑器，其余时间可以使用其他编辑器。许多现代编辑器都带有 Vim 插件。刚开始时，我每天使用 VSCode 流行的 Vim 插件一小时。后来，我逐渐增加了使用 Vim 插件的时间，直到最后整天都在使用它。请记住，这些插件只能模拟 Vim 功能的一小部分。要体验 Vim 的全部功能，如 Vimscript、命令行（Ex）命令和外部命令集成，你需要使用 Vim 本身。

有两个关键时刻让我开始 100% 使用 Vim：当我了解到 Vim 具有类似语法的结构时（见第 4 章），以及使用 [fzf.vim](https://github.com/junegunn/fzf.vim) 插件时（见第 3 章）。

第一次，当我意识到 Vim 类似语法的结构时，我终于明白了这些 Vim 用户在说什么。我不需要学习数以百计的独特命令。我只需学习一小部分命令，就能以非常直观的方式连锁完成许多事情。

第二次，快速运行模糊文件搜索的功能是我最常用的 IDE 功能。当我学会如何在 Vim 中进行模糊搜索时，我的速度得到了极大的提升，从此以后再也没有回头。

每个人的编程方式都不尽相同。经过反思，你会发现你最喜欢的编辑器 / IDE 中有一两项功能是你一直在使用的。也许是模糊搜索、跳转到定义或快速编译。无论它们是什么，都要快速识别出来，并学习如何在 Vim 中实现它们（Vim 大概率也能实现它们）。你的编辑速度将得到极大的提升。

一旦你的编辑速度能达到原来的 50%，你就可以只使用 Vim 了。

## 如何阅读本指南

这是一本实用指南。要想熟练掌握 Vim，你需要培养肌肉记忆，而不是脑袋里的知识。

你不能通过阅读关于如何骑自行车的指南来学习如何骑自行车。你需要真正地骑自行车。

你需要键入本指南中提到的每一个命令。不仅如此，你还需要多次重复并尝试不同的组合。查找你刚学会的命令还有哪些功能。`:help` 命令和搜索引擎是你最好的朋友。你的目标不是了解命令的一切，而是能够自然、本能地执行命令。

尽管我努力使本指南顺序化，但其中有些概念的表述必须打破顺序。例如，在第 1 章中，我提到了替代命令（`:s`），尽管它要到第 12 章才涉及。为了纠正这种情况，每当提前提到一个尚未涉及的新概念时，我都会提供一个快速操作指南，而不作详细解释。所以请大家多多包涵。 :)

## 更多帮助

这里有一个使用帮助手册的额外提示：假设你想了解更多 `Ctrl-P` 在插入模式下的作用。如果你只搜索 `:h CTRL-P`，你将被引导到普通模式的 `Ctrl-P`。这不是你要找的 `Ctrl-P` 帮助。在这种情况下，请搜索 `:h i_CTRL-P`。附加的 `i_` 表示插入模式。请注意它属于哪种模式。

## 语法

大多数命令或与代码相关的短语都使用行间代码（`like this`）。

字符串用一对双引号包围（"like this"）。

Vim 命令可以缩写。例如，`:join` 可以缩写为 `:j`。在整个指南中，我将混合使用缩写和完整写法。对于本指南中不常用的命令，我将使用完整写法。对于经常使用的命令，我将使用缩写。对于不一致的地方，我深表歉意。一般来说，每当你发现一条新命令时，应总是在 `:help` 中查看它的缩写。

## Vimrc

在本指南的不同部分，我会提到 vimrc 选项。如果你是 Vim 的新手，vimrc 就像是一个配置文件。

第 21 章才会涉及 Vimrc。为明确起见，我将在此简要介绍如何设置它。

假设你需要设置行号（`set number`）。如果还没有 vimrc，请创建一个。它通常放在你的主目录下，并命名为 `.vimrc`。根据操作系统的不同，位置也可能不同。在 macOS 中，我将其放在 `~/.vimrc`。要查看你的位置，请查看 `:h vimrc`。

在其中添加 `set number`。保存它（`:w`），然后激活它（`:source %`）。现在你应该能看到左侧显示的行号。

另外，如果不想永久更改设置，也可以通过在 Vim 中运行 `set` 命令，即运行 `:set number` 进行设置。这种方法的缺点是设置是临时的。关闭 Vim 后，该设置就会消失。

由于我们学习的是 Vim 而不是 Vi，因此必须设置 `nocompatible`（无兼容）选项。在 vimrc 中添加 `set nocompatible`。当 Vim 在 `compatible` 选项下运行时，许多 Vim 特有的功能都会被禁用。

一般来说，只要段落中提到 vimrc 选项，只需将该选项添加到 vimrc 中，保存并激活即可。

## 未来、错误、问题

期待今后有更多更新。如果您发现任何错误或有任何疑问，请随时联系我。

我还计划了一些后续章节，敬请期待！

## 我想要更多 Vim 技巧

要了解有关 Vim 的更多信息，请关注 [@learnvim](https://twitter.com/learnvim)。

## 感谢你们

如果没有 Bram Moleenar 创造了 Vim，如果没有我的妻子在整个过程中给予的耐心和支持，如果没有 Learn-Vim 项目的所有 [贡献者](https://github.com/iggredible/Learn-Vim/graphs/contributors)、Vim 社区，如果没有许许多多没有提到的人，这本指南是不可能完成的。

谢谢你们。是你们让文本编辑变得有趣。 :)
